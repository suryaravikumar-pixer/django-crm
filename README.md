# Django-crm

## Setup the project 
 
### Tools used in development
1. Git bash
2. visual studio code
3. os : windows 10

#### Github and git bash
1. Create a empty repo in github.com
2. On local machine open git bash and clone the empty repo << git clone https://github.com/suryaravikumar-pixer/django-crm/ >> (**<< your repo url>>**)
3. $ cd djagno_crm (cd _**you repo name**_)
4. $ user@user /d/django/django-crm (master) **if you see master you're all set**

#### Virtual environment and packages installed
  (_output is displayed after #_)
1. $ python -m venv venv
2. $ ls      #_venv/_
3. $ cd venv
4. $ ls      #_Scripts_
5. $ . activate  #(venv) will be displayed 
6. $ cd django-crm    get back to the working directory 
##### Django installation 
7. $ pip install django (**will get the latest version of django**)
8. $ pip freeze > requirements.txt  (This creates a file, stores info packeges installed.)

### Create a project and an application
1. django-admin startproject crm .  (_. period does not create an extra directory_)
2. python manage.py startapp leads

### .gitignore

https://github.com/github/gitignore/blob/master/Python.gitignore 
- open the above link copy the all 130 change of lines and paste into your .gitignore file

### The purpose of .gitignore
The .gitignore file is meant to be a list of files that Git should not track. It resides at the root directory of your repository. 
It can be a list of file path relative to the repository, or a list of wildcard.

You should put in .gitignore all files and patterns that are generated by the build system of your project, or any file that it might output while running.


## Manage.py
- manage.py. it basically allows us to run several commands like runserver, shell, migrations, makemigrations, show migrations, etc...

1. python manage.py runserver
2. python manage.py migrate 
3. python manage.py makemigrations  ---- this creates the schema according to model we created
4. python manage.py shell
5. python manage.py createsuepruser


## Model managers
($ python manage.py shell) type in bash terminal 
1. Using model managers we can create objects for our model fields and can query the database from the python interactive Console.
2. You may thought this is Object Relational Mapping (ORM).

**Import the user model from django not from the model file **
-  from django.contrib.auth import get_user_model
-  User =get_user_model()
-  User.objects.all()

- admin_user = User.objects.get(username="surya")

- agent = Agent.objects.create(user=admin_user)
- agent
- #<Agent: Agent object (1)>

- from leads.models import Agent
- Agent.objects.all()
1. here we get the all the details of the Agent


